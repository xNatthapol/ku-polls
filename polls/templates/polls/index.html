{% extends "polls/base.html" %}

{% block content %}
    <ul>
    {% if user.is_authenticated %}
        <p class="text-p">Welcome back, {{user.username}}</p>
    {% else %}
        <p class="text-p">Please <a class="button" href="{% url 'login' %}?next={{request.path}}">Login</a> to vote.</p>
    {% endif %}
    </ul>
    {% if latest_question_list %}
        <ul class="question-block">
        {% for question in latest_question_list %}
        <li>
            <a href="{% url 'polls:detail' question.id %}">{{ question.question_text }}</a>
            <a class="button" href="{% url 'polls:results' question.id %}">Results</a>
        </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No polls are available.</p>
    {% endif %}
    
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
{% endblock content %}